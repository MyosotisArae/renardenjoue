{% extends "main.html.twig" %}

{% block entete %}
  {{ parent() }}
  <link rel="stylesheet" href="{{css_path}}jeux.css">
  <link rel="stylesheet" href="{{css_path}}toolTip.css">
{% endblock %}

{% block corps %}
  {{ parent() }}
  
{% endblock %}

{% block laPage %}

  <div class='container-fluid h-30'>
    <div class='row w-100 h-100' >

      <div class='col-5 w-40 h-100'>
          <form  method="POST" action="jeux?operation=recherche" class="h-100 fondOpaque cadreBleu">
              <table class="w-100 h-100">
                <tr class="h-20">
                  <td class="w-25">
                    <label>Titre :</label>
                  </td>
                  <td style="position:relative;" class="w-75">
                    <a href="#" style="position:relative;">
                      <input type='text' name='jeuTitre'><div class='tool-tip left'>Nom&nbsp;complet&nbsp;ou&nbsp;partiel</div>
                    </a>
                  </td>
                </tr>
                <tr class="h-20">
                  <td>
                    <label>Niveau :</label>
                  </td>
                  <td>
                    <a href="#" style="position:relative;">
            					<select name='jeuNiveau'>
            						<option value='0'></option>
        	    					<option value='1' class="fondVert" alt="Parties courtes, règles simples">famille - enfants</option>
        			    			<option value='2' class="fondJaune">abordable</option>
      	  				    	<option value='3' class="fondOrange">confirmés</option>
    			  						<option value='4' class="fondRouge">connaisseurs</option>
          	  					<option value='5' class="fondNoir">experts</option>
      	    	  			</select>
                      <div class='tool-tip left'>Difficulté&nbsp;recherchée.</div>
                    </a>
                  </td>
                </tr>
                <tr class="h-20">
                  <td>
                    <label>Durée :</label>
                  </td>
                  <td>
                    <a href="#" style="position:relative;">
          						<select name='jeuDuree'>
          							<option value='0'></option>
        								<option value='1'>20mn ou moins</option>
  		    							<option value='2'>20 à 45mn</option>
      	    						<option value='3'>jusqu'à 1h30</option>
      		    					<option value='4'>1h30 à 3h</option>
      			    				<option value='5'>3h ou plus</option>
    					    		</select>
                      <div class='tool-tip left'>Durée&nbsp;d'une&nbsp;partie.
                      </div>
                    </a>
                  </td>
                </tr>
                <tr class="h-20">
                  <td>
                    <label>Nombre :</label>
                  </td>
                  <td>
                    <a href="#" style="position:relative;">
            					<select name='jeuNb'>
        	    					<option value='0'></option>
      				    			<option value='1'>1 joueur</option>
 			  					    	<option value='2'>2 joueurs</option>
            						<option value='3'>3 joueurs</option>
            						<option value='4'>4 joueurs</option>
      	      					<option value='5'>5 joueurs</option>
						      			<option value='6'>6 joueurs</option>
      					      	<option value='7'>7 joueurs</option>
          				  		<option value='8'>8 joueurs et plus</option>
          					  </select>
                      <div class='tool-tip left'>Nombre&nbsp;maximum&nbsp;de&nbsp;joueurs.</div>
                    </a>
                  </td>
                </tr>
                <tr class="h-20">
                  <td colspan=2>
                    <input type="submit" class="cadreBleu fondBleu bouton" href="jeux?operation=recherche" value="Rechercher les jeux correspondants">
                  </td>
                </tr>
              </table>

          </form>
      </div>

      <div class='col-7 w-60 h-30'>
        <div class="row h-30">
          <div class='col-5 h-30'>
            <div class='grandeImage h-30 cadreBleu' style="background-image:url({{ img_path }}imagesJeux/{{session.jeuChoisi.img}}.jpg);">
            </div>
          </div>
          <div class='col-7 camembert h-30'>
            <div class ='row h-30'>
              <div class="col-12 cadreBleu fondBleu"><h2>{{session.jeuChoisi.nomComplet}}</h2></div>
              <div class='col-10 enLigne' id='divDuree'>
                <div class="camembertParent enLigne">
                  {{session.htmlDuree|raw}}
                </div>
                <div class="legendeCamembert">
                  <h3>Légende :</h3>
                  <img class='enLigne rectangle' src="{{ img_path }}legendeVert.gif">&nbsp;durée minimale{{session.jeuChoisi.dureemin|duree}}<br>
                  <img class='enLigne rectangle' src="{{ img_path }}legendeRouge.gif">&nbsp;durée maximale{{session.jeuChoisi.dureemax|duree}}<br>
                  Jeu pour {{session.jeuChoisi.nbJoueurs}}<br>
                  Niveau de difficulté : {{session.jeuChoisi.difficulte}}
                  <table>
                    <tr>
                      <td rowspan=3><img class='mini' src="{{ img_path }}pictoNiv{{session.jeuChoisi.dominance}}.gif"></td>
                      <td rowspan=3><div class="texteInvisible">blabla</div></td>
                      <td><img class='bonhomme' src="{{ img_path }}niveau_enfant.gif"></td>
                      <td>5-8 ans</td>
                      <td class='texteInvisible' rowspan=3 style="background-image:url({{ img_path }}fleches{{session.jeuChoisi.dominance}}.gif);">blabla</td>
                      <td><img class='rectangle' src="{{ img_path }}niveauRouge.gif"></td>
                      <td>trop dur</td>
                    </tr>
                    <tr>
                      <td><img class='bonhomme' src="{{ img_path }}niveau_preado.gif"></td>
                      <td>9-13 ans</td>
                      <td><img class='rectangle' src="{{ img_path }}niveauOrange.gif"></td>
                      <td>compliqué</td>
                    </tr>
                    <tr>
                      <td><img class='bonhomme' src="{{ img_path }}niveau_grand.gif"></td>
                      <td>14 ans et plus</td>
                      <td><img class='rectangle' src="{{ img_path }}niveauVert.gif"></td>
                      <td>facile</td>
                    </tr>
                  </table>
                </div>
              </div>
              <div class='col-2' id='divNiveau'><img class='mini enAbsolu' style="right : 0;top : 2em;" src="{{ img_path }}pictoNiv{{session.jeuChoisi.dominance}}.gif"></div>
              <div class='col-12 inline' id='divTxtNbJoueurs'>
                <label class='gauche blanc' style="font-size : 1.4em;">{{session.jeuChoisi.nbJoueurs}}</label>
                <img class='mini enAbsolu' style="right : 0;bottom : 1em;" src="{{ img_path }}{{session.jeuChoisi.imgNbJoueurs}}">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class='container-fluid h-70'>
    <div class='row w-100' style="padding-top : 1em;">
      <div class='col-5 w-40'>
        <div class='listeJeux cadreBleu'>

{% set classeCouleur = random(12) %}
{% set classeTaille  = random(6)  %}
{% set classFonte    = random(10) %}
{% for jeu in listeJeux %}
                <a href="jeux?jeuChoisi={{jeu.id}}" class="confetti couleur{{classeCouleur}} taille{{classeTaille}} fonte{{classFonte}}">{{jeu.nomComplet}}</a>
  {% set classeCouleur = classeCouleur + 1 %}
  {% set classeTaille = classeTaille + 1 %}
  {% set classFonte = classFonte + 1 %}
  {% if classeCouleur > 12 %}
    {% set classeCouleur = 0 %}
  {% endif %}
  {% if classeTaille > 6 %}
    {% set classeTaille = 0 %}
  {% endif %}
  {% if classFonte > 10 %}
    {% set classFonte = 0 %}
  {% endif %}
{% endfor %}

        </div>
      </div>

      <div class='col-7 w-60'>
        <div class='fondOpaque cadreBleu enRelatif' style="height : 60vh;">
          <div class='enLigne'>
            <h3 class='enLigne'><label>But :</label></h3>
              <span class='enLigne' style="font-size : 1.5em; font-weight : bold;">{{session.jeuChoisi.but}}</span>
          </div>
          <h3><label style="text-align : left;">Principe :</label></h3>
          <div class='sousFenetre'>
            {{session.jeuChoisi.ppe|raw}}
          </div>
        </div>
      </div>

    </div>
  </div>

      
{% endblock %}

{% block piedDePage %}
    <div id="RangementDesJeux" class="jeSuisInvisible">
    	<?php echo $_SESSION["remplissageJeux"]; ?>
    </div>
{% endblock %}